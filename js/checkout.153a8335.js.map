{"version":3,"sources":["webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/components/InputNumber.vue?27fc","webpack:///src/components/InputNumber.vue","webpack:///./src/components/InputNumber.vue?986d","webpack:///./src/components/InputNumber.vue","webpack:///./src/views/Checkout.vue?7b08","webpack:///src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?39ed","webpack:///./src/views/Checkout.vue"],"names":["name","provide","form","this","inheritAttrs","props","disabled","lazyValidation","readonly","value","Boolean","data","inputs","watchers","errorBag","watch","handler","errors","Object","deep","immediate","methods","watchInput","watcher","input","val","_uid","valid","shouldValidate","validate","filter","reset","resetErrorBag","setTimeout","resetValidation","register","unregister","found","find","i","unwatch","render","h","staticClass","attrs","novalidate","attrs$","on","submit","e","$slots","_vm","_h","$createElement","_c","_self","label","mask","outline","rules","$event","stopPropagation","increase","apply","arguments","decrease","$emit","staticRenderFns","type","String","default","min","Number","max","maxLength","Array","step","height","computed","isNaN","parseInt","component","VTextField","_v","model","callback","$$v","$set","expression","valueFields","cardNumberMaxLength","inputFields","cardNumber","changeNumber","cardName","cardMonth","month","cardYear","year","cardCvv","_n","checkout","cart","phone","address","credit","components","InputNumber","replace","inputType","lastChar","VBtn","VContainer","VDivider","VForm","VSelect","VSheet"],"mappings":"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","file":"js/checkout.153a8335.js","sourcesContent":["// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-text-field',{attrs:{\"outlined\":\"\",\"append-icon\":\"$vuetify.icons.plus\",\"label\":_vm.label,\"mask\":_vm.mask,\"outline\":_vm.outline,\"prepend-inner-icon\":\"$vuetify.icons.minus\",\"rules\":_vm.rules,\"value\":_vm.value,\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"color\":\"orange\"},on:{\"click:append\":function($event){$event.stopPropagation();return _vm.increase.apply(null, arguments)},\"click:prepend-inner\":function($event){$event.stopPropagation();return _vm.decrease.apply(null, arguments)},\"change\":function($event){return _vm.$emit(\"input\", $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang='pug'>\n  v-text-field(\n    outlined\n    append-icon='$vuetify.icons.plus'\n    :label='label'\n    :mask='mask'\n    :outline='outline'\n    prepend-inner-icon='$vuetify.icons.minus'\n    :rules='rules'\n    :value='value'\n    dense\n    solo\n    flat\n    color=\"orange\"\n    @click:append.stop='increase'\n    @click:prepend-inner.stop='decrease'\n    @change='$emit(\"input\", $event)')\n</template>\n\n<script>\nexport default {\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    min: {\n      type: Number,\n      default: 1\n    },\n    max: {\n      type: Number,\n      default: 9999\n    },\n    maxLength: {\n      type: Number,\n      default: 4\n    },\n    outline: {\n      type: Boolean,\n      default: true\n    },\n    rules: {\n      type: Array,\n      default: () => []\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    height: {\n      type: String\n    },\n    value: [String, Number]\n  },\n  computed: {\n    mask () {\n      let mask = ''\n      for (let i = 0; i < this.maxLength; i++) mask = `${mask}#`\n      return mask\n    }\n  },\n  methods: {\n    increase () {\n      if (isNaN(parseInt(this.value))) return this.$emit('input', this.step)\n      if (this.value === this.max) return\n      this.$emit('input', parseInt(this.value) + this.step)\n    },\n    decrease () {\n      if (isNaN(parseInt(this.value))) return this.$emit('input', this.min)\n      if (this.value === this.min) return\n      this.$emit('input', parseInt(this.value) - this.step)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputNumber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputNumber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputNumber.vue?vue&type=template&id=4fdbb508&lang=pug&\"\nimport script from \"./InputNumber.vue?vue&type=script&lang=js&\"\nexport * from \"./InputNumber.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0 px-lg-12 mb-12\",attrs:{\"id\":\"checkout\",\"fluid\":\"\"}},[_c('v-sheet',{staticClass:\"mx-3 px-lg-12 d-flex align-center mb-12\"},[_c('h2',{staticClass:\"header-title mr-6\"},[_vm._v(\"訂單資料\")]),_c('v-divider')],1),_c('v-sheet',{staticClass:\"mx-3 mx-lg-10 pa-8 rounded-xl bg-white-2 mt-12\"},[_c('p',{staticClass:\"font-h3\"},[_vm._v(\"1.收件人資料\")]),_c('v-form',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"收件人姓名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"收件人手機號碼\",\"maxlength\":\"10\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"請輸入地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_c('p',{staticClass:\"font-h3\"},[_vm._v(\"2.付款資訊\")]),_c('vue-paycard',{attrs:{\"value-fields\":_vm.valueFields,\"valueFields\":_vm.valueFields}}),_c('v-form',[_c('p',[_vm._v(\"卡號\")]),_c('v-text-field',{attrs:{\"data-card-field\":\"\",\"outlined\":\"\",\"autocomplete\":\"off\",\"maxLength\":_vm.cardNumberMaxLength,\"id\":_vm.inputFields.cardNumber},on:{\"input\":_vm.changeNumber},model:{value:(_vm.valueFields.cardNumber),callback:function ($$v) {_vm.$set(_vm.valueFields, \"cardNumber\", $$v)},expression:\"valueFields.cardNumber\"}}),_c('p',[_vm._v(\"姓名(英文字母)\")]),_c('v-text-field',{attrs:{\"data-card-field\":\"\",\"outlined\":\"\",\"id\":_vm.inputFields.cardName},model:{value:(_vm.valueFields.cardName),callback:function ($$v) {_vm.$set(_vm.valueFields, \"cardName\", $$v)},expression:\"valueFields.cardName\"}}),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"mr-12\"},[_c('p',[_vm._v(\"有效日期\")]),_c('div',{staticClass:\"d-flex\"},[_c('v-select',{staticClass:\"mr-3\",attrs:{\"data-card-field\":\"\",\"outlined\":\"\",\"id\":_vm.inputFields.cardMonth,\"items\":_vm.month},model:{value:(_vm.valueFields.cardMonth),callback:function ($$v) {_vm.$set(_vm.valueFields, \"cardMonth\", $$v)},expression:\"valueFields.cardMonth\"}}),_c('v-select',{attrs:{\"data-card-field\":\"\",\"outlined\":\"\",\"id\":_vm.inputFields.cardYear,\"items\":_vm.year},model:{value:(_vm.valueFields.cardYear),callback:function ($$v) {_vm.$set(_vm.valueFields, \"cardYear\", $$v)},expression:\"valueFields.cardYear\"}})],1)]),_c('div',[_c('p',[_vm._v(\"末三碼\")]),_c('v-text-field',{attrs:{\"data-card-field\":\"\",\"autocomplete\":\"off\",\"maxlength\":\"3\",\"id\":_vm.inputFields.cardCvv,\"outlined\":\"\"},model:{value:(_vm.valueFields.cardCvv),callback:function ($$v) {_vm.$set(_vm.valueFields, \"cardCvv\", _vm._n($$v))},expression:\"valueFields.cardCvv\"}})],1)])],1),_c('v-btn',{staticClass:\"white--text my-6\",attrs:{\"block\":\"\",\"elevation\":\"0\",\"color\":\"#DEA56A\"},on:{\"click\":_vm.checkout}},[_c('span',{staticClass:\"font-h3\"},[_vm._v(\"送出訂單\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-container#checkout(fluid).pa-0.px-lg-12.mb-12\n  v-sheet.mx-3.px-lg-12.d-flex.align-center.mb-12\n    h2.header-title.mr-6 訂單資料\n    v-divider\n  v-sheet.mx-3.mx-lg-10.pa-8.rounded-xl.bg-white-2.mt-12\n    p.font-h3 1.收件人資料\n    v-form\n      v-text-field(outlined label=\"收件人姓名\" v-model=\"form.name\")\n      v-text-field(outlined label=\"收件人手機號碼\" maxlength=\"10\" v-model=\"form.phone\")\n      v-text-field(outlined label=\"請輸入地址\" v-model=\"form.address\")\n    p.font-h3 2.付款資訊\n    vue-paycard(:value-fields=\"valueFields\" :valueFields=\"valueFields\")\n    v-form\n      p 卡號\n      v-text-field(data-card-field outlined autocomplete=\"off\" :maxLength=\"cardNumberMaxLength\" @input=\"changeNumber\" :id=\"inputFields.cardNumber\" v-model=\"valueFields.cardNumber\")\n      p 姓名(英文字母)\n      v-text-field(data-card-field outlined :id=\"inputFields.cardName\" v-model=\"valueFields.cardName\")\n      div.d-flex\n        div.mr-12\n          p 有效日期\n          div.d-flex\n            v-select.mr-3(data-card-field outlined :id=\"inputFields.cardMonth\" :items=\"month\" v-model=\"valueFields.cardMonth\")\n            v-select(data-card-field outlined :id=\"inputFields.cardYear\" :items=\"year\" v-model=\"valueFields.cardYear\")\n        div\n          p 末三碼\n          v-text-field(data-card-field autocomplete=\"off\" maxlength=\"3\" :id=\"inputFields.cardCvv\" outlined v-model.number=\"valueFields.cardCvv\")\n    v-btn.white--text.my-6(block elevation=\"0\" color=\"#DEA56A\" @click=\"checkout\")\n      span.font-h3 送出訂單\n</template>\n\n<script>\nimport InputNumber from '@/components/InputNumber.vue'\n\nexport default {\n  name: 'Cart',\n  data () {\n    return {\n      cart: [],\n      form: {\n        name: '',\n        phone: '',\n        address: '',\n        credit: ''\n      },\n      valueFields: {\n        cardName: '',\n        cardNumber: '',\n        cardMonth: '',\n        cardYear: '',\n        cardCvv: ''\n      },\n      inputFields: {\n        cardNumber: 'v-card-number',\n        cardName: 'v-card-name',\n        cardMonth: 'v-card-month',\n        cardYear: 'v-card-year',\n        cardCvv: 'v-card-cvv'\n      },\n      month: [],\n      year: [],\n      cardNumberMaxLength: 19\n    }\n  },\n  components: {\n    InputNumber\n  },\n  methods: {\n    async checkout () {\n      try {\n        const data = {\n          name: this.form.name,\n          phone: this.form.phone,\n          address: this.form.address,\n          credit: this.valueFields.cardNumber\n        }\n        await this.axios.post('/orders', data, {\n          headers: {\n            authorization: 'Bearer ' + this.$store.state.jwt.token\n          }\n        })\n        this.$swal({\n          icon: 'success',\n          title: '成功',\n          text: '您的訂單已送出'\n        })\n        this.$store.commit('changecart', {})\n        this.$router.push('/orders')\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '結帳失敗'\n        })\n      }\n    },\n    changeNumber (e) {\n      const value = this.valueFields.cardNumber.replace(/\\D/g, '')\n      // american express, 15 digits\n      if ((/^3[47]\\d{0,13}$/).test(value)) {\n        this.valueFields.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ')\n        this.cardNumberMaxLength = 17\n      } else if ((/^3(?:0[0-5]|[68]\\d)\\d{0,11}$/).test(value)) { // diner's club, 14 digits\n        this.valueFields.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ')\n        this.cardNumberMaxLength = 16\n      } else if (/^62[0-9]\\d*/.test(value)) {\n        this.valueFields.cardNumber = value.replace(/(\\d{6})/, '$1 ').replace(/(\\d{6}) (\\d{7})/, '$1 $2 ').replace(/(\\d{6}) (\\d{7}) (\\d{6})/, '$1 $2 $3 ').replace(/(\\d{5}) (\\d{5}) (\\d{5}) (\\d{4})/, '$1 $2 $3 $4')\n        this.cardNumberMaxLength = 21\n      } else if ((/^\\d{0,16}$/).test(value)) { // regular cc number, 16 digits\n        this.valueFields.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{4})/, '$1 $2 ').replace(/(\\d{4}) (\\d{4}) (\\d{4})/, '$1 $2 $3 ')\n        this.cardNumberMaxLength = 19\n      }\n      if (e.inputType === 'deleteContentBackward') {\n        const lastChar = this.valueFields.cardNumber.substring(this.valueFields.cardNumber.length, this.valueFields.cardNumber.length - 1)\n        if (lastChar === ' ') { this.valueFields.cardNumber = this.valueFields.cardNumber.substring(0, this.valueFields.cardNumber.length - 1) }\n      }\n    }\n  },\n  async mounted () {\n    try {\n      const { data } = await this.axios.get('/users/cart', {\n        headers: {\n          authorization: 'Bearer ' + this.$store.state.jwt.token\n        }\n      })\n      this.cart = data.result.map(item => {\n        item = { ...item.product, amount: item.amount }\n        item.image = item.image.map(i => `${process.env.VUE_APP_API}/files/${item.image}`)[0]\n        item.amountModel = item.amount\n        return item\n      })\n      // 計算 month 資料\n      for (let i = 1; i < 13; i++) {\n        let month = ''\n        if (i < 10) {\n          month = `0${i}`\n        } else {\n          month = `${i}`\n        }\n        this.month.push(month)\n      }\n      // 計算 year 資料\n      const thisyear = new Date().getFullYear()\n      for (let i = thisyear; i < thisyear + 17; i++) {\n        this.year.push(i)\n      }\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得購物車失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=6ad084e9&lang=pug&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VDivider,VForm,VSelect,VSheet,VTextField})\n"],"sourceRoot":""}