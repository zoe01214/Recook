{"version":3,"sources":["webpack:///./src/views/Recipes.vue?07a9","webpack:///src/views/Recipes.vue","webpack:///./src/views/Recipes.vue?8c19","webpack:///./src/views/Recipes.vue","webpack:///./src/assets/filter_list_black_24dp.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","domProps","on","$event","target","composing","query","class","kindactive","changekind","scopedSlots","_u","key","fn","ref","sortdia","model","callback","$$v","sort","_l","item","_s","selecttext","filter","Array","isArray","choose","_i","$$a","$$el","$$c","checked","$$i","concat","slice","checkclass","checktext","length","cleanchoose","filternum","recipe","index","_id","nowuser","likes","favorites","staticRenderFns","data","recipes","showrecipes","kind","select","classify","components","RecipeCard","vuetify","computed","methods","includes","kindfilter","watch","handler","searchquery","deep","component","VBtn","VCard","VCol","VContainer","VDivider","VIcon","VImg","VList","VListItem","VListItemGroup","VMenu","VRow","VSheet","VSpacer","module","exports"],"mappings":"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","file":"js/recipes.3ef4a251.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0 px-lg-12 mb-12\",attrs:{\"fluid\":\"\",\"id\":\"recipes\"}},[_c('v-row',{staticClass:\"mx-3 mx-lg-10\"},[_c('v-col',{staticClass:\"px-0\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-sheet',{staticClass:\"searchbar-big rounded-xl d-flex align-center\"},[_c('v-icon',{staticClass:\"px-3\"},[_vm._v(\"mdi-magnify\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"type\":\"text\",\"placeholder\":\"搜尋食譜 / 食材 / 作者\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}})],1)],1)]),_c('v-col',{staticClass:\"px-0 mb-lg-8\",attrs:{\"cols\":\"12\"}},[_c('v-row',{staticClass:\"d-flex align-center\"},[_c('v-col',{staticClass:\"relative\",attrs:{\"cols\":\"12\"}},[_c('v-row',{staticClass:\"d-flex align-center\"},[_c('v-col',{staticClass:\"text-center order-lg-2\",attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"selectborder\",class:_vm.kindactive('all'),attrs:{\"small\":\"\",\"elevation\":\"1\",\"height\":\"38px\"},on:{\"click\":function($event){return _vm.changekind('all')}}},[_c('span',{staticClass:\"icon-all\"},[_vm._v(\"A\"),_c('span',{staticClass:\"lowercase\"},[_vm._v(\"ll\")])]),_c('span',{staticClass:\"ml-2 font-weight-bold d-none d-md-flex\"},[_vm._v(\"全部食譜\")])]),_c('v-btn',{staticClass:\"selectborder mx-5\",class:_vm.kindactive('text'),attrs:{\"small\":\"\",\"elevation\":\"1\",\"height\":\"38px\"},on:{\"click\":function($event){return _vm.changekind('text')}}},[_c('v-icon',[_vm._v(\"mdi-book-open-outline\")]),_c('span',{staticClass:\"ml-2 font-weight-bold d-none d-md-flex\"},[_vm._v(\"文字食譜\")])],1),_c('v-btn',{staticClass:\"selectborder\",class:_vm.kindactive('video'),attrs:{\"small\":\"\",\"elevation\":\"1\",\"height\":\"38px\"},on:{\"click\":function($event){return _vm.changekind('video')}}},[_c('v-icon',[_vm._v(\"mdi-television-classic\")]),_c('span',{staticClass:\"ml-2 font-weight-bold d-none d-md-flex\"},[_vm._v(\"影片食譜\")])],1)],1)],1)],1),_c('v-col',{staticClass:\"d-flex justify-start align-center order-lg-1\",attrs:{\"cols\":\"6\",\"lg\":\"3\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-bottom\":50},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',{staticClass:\"custom-btn\",on:{\"click\":function($event){_vm.sortdia = !_vm.sortdia}}},[_c('div',{staticClass:\"selectbox leftbtn\"},[_c('v-icon',{staticClass:\"black--text lefticon\"},[_vm._v(\"mdi-chevron-down\")]),_c('span',{staticClass:\"font-h3\"},[_vm._v(\"熱門食譜\")])],1)])]}}]),model:{value:(_vm.sortdia),callback:function ($$v) {_vm.sortdia=$$v},expression:\"sortdia\"}},[_c('v-card',[_c('v-list',[_c('v-list-item-group',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.sort),callback:function ($$v) {_vm.sort=$$v},expression:\"sort\"}},_vm._l((_vm.select),function(item){return _c('v-list-item',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(_vm.selecttext(item)))])}),1)],1)],1)],1)],1),_c('v-col',{staticClass:\"d-flex justify-end align-center order-lg-3\",attrs:{\"cols\":\"6\",\"lg\":\"3\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-left\":\"380\",\"nudge-bottom\":50,\"max-width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',{staticClass:\"custom-btn\",on:{\"click\":function($event){_vm.filter = !_vm.filter}}},[_c('div',{staticClass:\"selectbox rightbtn\"},[_c('div',{staticClass:\"righticon\"},[_c('v-img',{attrs:{\"src\":require(\"../assets/filter_list_black_24dp.svg\")}})],1),_c('span',{staticClass:\"font-h3\"},[_vm._v(\"食譜分類\")])])])]}}]),model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}},[_c('v-card',{staticClass:\"rounded-xl pa-6 pr-7 pt-12\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',_vm._l((_vm.classify),function(item){return _c('v-col',{key:item,staticClass:\"pb-0\",attrs:{\"cols\":\"6\",\"sm\":\"4\",\"lg\":\"4\"}},[_c('v-sheet',{staticClass:\"pointer d-flex align-center justify-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.choose),expression:\"choose\"}],attrs:{\"type\":\"checkbox\",\"id\":item},domProps:{\"value\":item,\"checked\":Array.isArray(_vm.choose)?_vm._i(_vm.choose,item)>-1:(_vm.choose)},on:{\"change\":function($event){var $$a=_vm.choose,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.choose=$$a.concat([$$v]))}else{$$i>-1&&(_vm.choose=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.choose=$$c}}}}),_c('label',{staticClass:\"checktext d-flex align-center\",attrs:{\"for\":item}},[_c('v-icon',{class:_vm.checkclass(item)},[_vm._v(_vm._s(_vm.checktext(item)))]),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(item))])],1)])],1)}),1)],1),_c('v-col',{staticClass:\"pt-10\",attrs:{\"cols\":\"12\"}},[_c('v-divider')],1),_c('v-col',{staticClass:\"px-6\",attrs:{\"cols\":\"12\"}},[_c('v-sheet',{staticClass:\"d-flex align-center\"},[_c('v-sheet',[_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.choose.length === 0},on:{\"click\":_vm.cleanchoose}},[_vm._v(\"清除選取項目\")])],1),_c('v-spacer'),_c('v-sheet',[_c('div',[_vm._v(_vm._s(_vm.filternum))])])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),_c('v-row',{staticClass:\"mx-1 mx-lg-8\"},_vm._l((_vm.showrecipes),function(recipe,index){return _c('v-col',{key:recipe._id,attrs:{\"cols\":\"12\",\"lg\":\"3\",\"md\":\"4\",\"sm\":\"6\"}},[_c('RecipeCard',{attrs:{\"recipe\":recipe,\"nowuser\":_vm.nowuser},on:{\"sendlike\":function($event){return _vm.likes(index)},\"sendfav\":function($event){return _vm.favorites(index)}}})],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-container(fluid)#recipes.pa-0.px-lg-12.mb-12\n  v-row.mx-3.mx-lg-10\n    v-col(cols=\"12\").px-0\n      div.d-flex.justify-center\n        v-sheet.searchbar-big.rounded-xl.d-flex.align-center\n          v-icon.px-3 mdi-magnify\n          input(v-model=\"query\" type=\"text\" placeholder=\"搜尋食譜 / 食材 / 作者\")\n    v-col(cols=\"12\").px-0.mb-lg-8\n      v-row.d-flex.align-center\n        v-col(cols=\"12\").relative\n          v-row.d-flex.align-center\n            v-col(cols=\"12\" lg=\"6\").text-center.order-lg-2\n              v-row\n                v-col(cols=\"12\")\n                  v-btn.selectborder(small elevation=\"1\" height=\"38px\" :class=\"kindactive('all')\" @click=\"changekind('all')\")\n                    span.icon-all A\n                      span.lowercase ll\n                    span.ml-2.font-weight-bold.d-none.d-md-flex 全部食譜\n                  v-btn.selectborder(small elevation=\"1\" height=\"38px\" :class=\"kindactive('text')\" @click=\"changekind('text')\").mx-5\n                    v-icon mdi-book-open-outline\n                    span.ml-2.font-weight-bold.d-none.d-md-flex 文字食譜\n                  v-btn.selectborder(small elevation=\"1\" height=\"38px\" :class=\"kindactive('video')\" @click=\"changekind('video')\")\n                    v-icon mdi-television-classic\n                    span.ml-2.font-weight-bold.d-none.d-md-flex 影片食譜\n            v-col(cols=\"6\" lg=\"3\").d-flex.justify-start.align-center.order-lg-1\n              v-menu(v-model=\"sortdia\" :close-on-content-click=\"false\" :nudge-bottom=\"50\")\n                template(v-slot:activator=\"{ on, attrs }\")\n                  div.custom-btn(@click=\"sortdia = !sortdia\")\n                    div.selectbox.leftbtn\n                      v-icon.black--text.lefticon mdi-chevron-down\n                      span.font-h3 熱門食譜\n                v-card\n                  v-list\n                    v-list-item-group(v-model=\"sort\" mandatory)\n                      v-list-item(v-for=\"item of select\" :key=\"item\" :value=\"item\") {{selecttext(item)}}\n            v-col(cols=\"6\" lg=\"3\").d-flex.justify-end.align-center.order-lg-3\n              v-menu(v-model=\"filter\" :close-on-content-click=\"false\" nudge-left=\"380\" :nudge-bottom=\"50\"  max-width=\"500\" )\n                template(v-slot:activator=\"{ on, attrs }\")\n                  div.custom-btn(@click=\"filter = !filter\")\n                    div.selectbox.rightbtn\n                      div.righticon\n                        v-img(src=\"../assets/filter_list_black_24dp.svg\")\n                      span.font-h3 食譜分類\n                v-card.rounded-xl.pa-6.pr-7.pt-12\n                  v-row\n                    v-col(cols=\"12\")\n                      v-row\n                        v-col(cols=\"6\" sm=\"4\" lg=\"4\" v-for=\"item of classify\" :key=\"item\").pb-0\n                          v-sheet.pointer.d-flex.align-center.justify-center\n                            input(type=\"checkbox\" :value=\"item\" :id=\"item\" v-model=\"choose\")\n                            label.checktext.d-flex.align-center(:for=\"item\")\n                              v-icon(:class=\"checkclass(item)\") {{checktext(item)}}\n                              span.ml-2 {{item}}\n                    v-col(cols=\"12\").pt-10\n                      v-divider\n                    v-col(cols=\"12\").px-6\n                      v-sheet.d-flex.align-center\n                        v-sheet\n                          v-btn(text :disabled=\"choose.length === 0\" @click=\"cleanchoose\") 清除選取項目\n                        v-spacer\n                        v-sheet\n                          div {{filternum}}\n  v-row.mx-1.mx-lg-8\n    v-col(cols=\"12\" lg=\"3\" md=\"4\" sm=\"6\" v-for=\"(recipe,index) in showrecipes\" :key=\"recipe._id\")\n      RecipeCard(:recipe=\"recipe\" :nowuser=\"nowuser\" @sendlike=\"likes(index)\" @sendfav=\"favorites(index)\")\n</template>\n\n<script>\nimport RecipeCard from '@/components/RecipeCard.vue'\nimport vuetify from '../plugins/vuetify'\n\nexport default ({\n  name: 'Recipes',\n  data () {\n    return {\n      recipes: [],\n      showrecipes: [],\n      nowuser: {\n        likes: [],\n        favorites: []\n      },\n      filter: false,\n      sortdia: false,\n      kind: 'all',\n      query: '',\n      choose: [],\n      sort: 'likes',\n      select: ['likes', 'publish_date'],\n      classify: ['烘焙甜點', '家常菜色', '電鍋料理', '蔬食料理', '異國料理', '快速上桌', '飲料冰品', '節慶料理', '寶寶兒童', '寵物料理']\n    }\n  },\n  components: {\n    RecipeCard,\n    vuetify\n  },\n  computed: {\n    filternum () {\n      return this.choose.length > 0 ? `共選 ${this.choose.length} 項分類` : '尚未選擇分類'\n    }\n  },\n  methods: {\n    async likes (index) {\n      if (this.recipes[index].like) {\n        const idx = this.recipes[index].likes.map(l => l.users).indexOf(this.$store.state.user._id)\n        this.recipes[index].likes.splice(idx, 1)\n        const nowidx = this.nowuser.likes.map(l => l.recipes).indexOf(this.recipes[index]._id)\n        this.nowuser.likes.splice(nowidx, 1)\n      } else {\n        this.recipes[index].likes.push({ user: this.$store.state.user._id })\n        this.nowuser.likes.push({ recipes: this.recipes[index]._id })\n      }\n      this.recipes[index].like = !this.recipes[index].like\n    },\n    async favorites (index) {\n      if (this.recipes[index].favorite) {\n        const nowidx = this.nowuser.favorites.map(l => l.recipes).indexOf(this.recipes[index]._id)\n        this.nowuser.favorites.splice(nowidx, 1)\n      } else {\n        this.nowuser.favorites.push({ recipes: this.recipes[index]._id })\n      }\n      this.recipes[index].favorite = !this.recipes[index].favorite\n    },\n    async searchquery () {\n      try {\n        const classify = this.choose.join(',')\n        const { data } = await this.axios.get('/recipes/?keywords=' + this.query + '&chooses=' + classify + '&sort=' + this.sort)\n        this.recipes = data.result.map(recipe => {\n          if (recipe.image) {\n            recipe.image = recipe.image.map(r => `${process.env.VUE_APP_API}/files/${r}`)\n          }\n          recipe.favorite = false\n          recipe.like = false\n          if (recipe.author.avatar) {\n            recipe.author.avatar = recipe.author.avatar.map(i => `${process.env.VUE_APP_API}/files/${i}`)\n          }\n          return recipe\n        })\n        this.recipes = this.recipes.filter(r => r.isEnabled !== 0)\n        this.showrecipes = this.recipes\n      } catch (error) {\n      }\n    },\n    checkclass (item) {\n      return this.choose.includes(item) ? 'checkbox-check' : 'checkbox-default'\n    },\n    checktext (item) {\n      return this.choose.includes(item) ? 'mdi-check' : ''\n    },\n    selecttext (item) {\n      return item === 'likes' ? '熱門食譜' : '最新發佈'\n    },\n    cleanchoose () {\n      this.choose = []\n    },\n    changekind (value) {\n      this.kind = `${value}`\n    },\n    kindactive (value) {\n      return this.kind === value ? 'kind-active' : ''\n    },\n    kindfilter () {\n      if (this.kind === 'text') {\n        this.showrecipes = this.recipes.filter(f => f.type === this.kind)\n      }\n      if (this.kind === 'video') {\n        this.showrecipes = this.recipes.filter(f => f.type === this.kind)\n      }\n      if (this.kind === 'all') {\n        this.showrecipes = this.recipes\n      }\n    }\n  },\n  async mounted () {\n    try {\n      const { data } = await this.axios.get('/recipes/?sort=likes')\n      this.recipes = data.result.map(recipe => {\n        if (recipe.image) {\n          recipe.image = recipe.image.map(r => `${process.env.VUE_APP_API}/files/${r}`)\n        }\n        recipe.favorite = false\n        recipe.like = false\n        if (recipe.author.avatar) {\n          recipe.author.avatar = recipe.author.avatar.map(i => `${process.env.VUE_APP_API}/files/${i}`)\n        }\n        return recipe\n      })\n      this.recipes = this.recipes.filter(r => r.isEnabled !== 0)\n      if (this.user.islogin) {\n        const user = await this.axios.get('/users/' + this.$store.state.user._id)\n        this.nowuser = {\n          likes: user.data.result.likes,\n          favorites: user.data.result.favorites\n        }\n        if (this.nowuser.likes !== undefined) {\n          this.recipes.map(recipe => {\n            recipe.like = this.nowuser.likes.some(l => l.recipes === recipe._id)\n            return recipe\n          })\n        } else {\n          this.recipe.like = false\n        }\n        if (this.nowuser.favorites !== undefined) {\n          this.recipes.map(recipe => {\n            recipe.favorite = this.nowuser.favorites.some(f => f.recipes._id === recipe._id)\n            return recipe\n          })\n        } else {\n          this.recipe.favorite = false\n        }\n      }\n      this.showrecipes = this.recipes\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得食譜錯誤'\n      })\n    }\n  },\n  watch: {\n    choose: {\n      handler (nVal, oVal) {\n        this.searchquery()\n      },\n      deep: true\n    },\n    sort: {\n      handler (nVal, oVal) {\n        this.searchquery()\n      },\n      deep: true\n    },\n    query: {\n      handler (nVal, oVal) {\n        this.searchquery()\n      }\n    },\n    kind: {\n      handler (nVal, oVal) {\n        this.kindfilter()\n      },\n      deep: true\n    }\n  }\n})\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recipes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recipes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recipes.vue?vue&type=template&id=14e418a0&lang=pug&\"\nimport script from \"./Recipes.vue?vue&type=script&lang=js&\"\nexport * from \"./Recipes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDivider,VIcon,VImg,VList,VListItem,VListItemGroup,VMenu,VRow,VSheet,VSpacer})\n","module.exports = __webpack_public_path__ + \"img/filter_list_black_24dp.9bee6b17.svg\";"],"sourceRoot":""}